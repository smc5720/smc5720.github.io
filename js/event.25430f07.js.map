{"version":3,"sources":["webpack:///./src/views/home/EventDetail.vue?81a6","webpack:///./src/apis/event.js","webpack:///src/views/home/EventDetail.vue","webpack:///./src/views/home/EventDetail.vue?a130","webpack:///./src/views/home/EventDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","event","_v","_s","ename","Date","estartdate","toLocaleDateString","eenddate","staticClass","edetail","on","createCoupon","scopedSlots","_u","key","fn","ref","_b","$event","snackbar","model","value","callback","$$v","expression","snackbarText","toLogin","snackbarLogin","staticRenderFns","getEvent","eid","promise","axios","get","updateEvent","eventFormData","post","name","components","data","methods","$router","push","created","getEventDetail","$store","commit","props","component","VBtn","VCard","VCardText","VCardTitle","VCol","VImg","VRow","VSnackbar"],"mappings":"gHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,mBAAmB,UAAU,CAACF,EAAG,SAAS,CAACE,YAAY,CAAC,MAAQ,QAAQ,mBAAmB,WAAWC,MAAM,CAAC,OAAS,GAAG,KAAO,KAAK,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,OAAS,OAAO,IAAO,GAAMP,EAAIQ,MAAY,OAAG,eAAe,QAAa,GAAGJ,EAAG,SAAS,CAACE,YAAY,CAAC,MAAQ,QAAQ,mBAAmB,WAAWC,MAAM,CAAC,OAAS,GAAG,KAAO,KAAK,CAACH,EAAG,eAAe,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIQ,MAAMG,UAAUP,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,CAACP,EAAIS,GAAG,SAAST,EAAIU,GAAG,IAAIE,KAAKZ,EAAIQ,MAAMK,YAAYC,sBAAsB,MAAMd,EAAIU,GAAG,IAAIE,KAAKZ,EAAIQ,MAAMO,UAAUD,sBAAsB,OAAOV,EAAG,QAAQ,CAACY,YAAY,OAAOT,MAAM,CAAC,KAAO,OAAO,CAACP,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIQ,MAAMS,SAAS,OAAOb,EAAG,QAAQ,CAACY,YAAY,mBAAmBT,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,QAAQ,CAACE,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,MAAQ,QAAQ,MAAQ,QAAQW,GAAG,CAAC,MAAQlB,EAAImB,eAAe,CAACnB,EAAIS,GAAG,YAAY,IAAI,IAAI,IAAI,GAAGL,EAAG,SAAS,CAACY,YAAY,OAAOT,MAAM,CAAC,SAAW,GAAG,KAAO,GAAG,MAAQ,UAAU,CAACP,EAAIS,GAAG,YAAYL,EAAG,cAAc,CAACJ,EAAIS,GAAG,kCAAkCL,EAAG,MAAMJ,EAAIS,GAAG,mBAAmBL,EAAG,MAAMJ,EAAIS,GAAG,mCAAmCL,EAAG,MAAMJ,EAAIS,GAAG,iDAAiDL,EAAG,SAAS,GAAGA,EAAG,aAAa,CAACgB,YAAYpB,EAAIqB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GACz4C,IAAIjB,EAAQiB,EAAIjB,MAChB,MAAO,CAACH,EAAG,QAAQJ,EAAIyB,GAAG,CAAClB,MAAM,CAAC,MAAQ,OAAO,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASQ,GAAQ1B,EAAI2B,UAAW,KAAS,QAAQpB,GAAM,GAAO,CAACP,EAAIS,GAAG,kBAAkBmB,MAAM,CAACC,MAAO7B,EAAY,SAAE8B,SAAS,SAAUC,GAAM/B,EAAI2B,SAASI,GAAKC,WAAW,aAAa,CAAChC,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIiC,cAAc,OAAO7B,EAAG,aAAa,CAACgB,YAAYpB,EAAIqB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GAC1W,IAAIjB,EAAQiB,EAAIjB,MAChB,MAAO,CAACH,EAAG,QAAQJ,EAAIyB,GAAG,CAAClB,MAAM,CAAC,MAAQ,OAAO,KAAO,IAAIW,GAAG,CAAC,MAAQlB,EAAIkC,UAAU,QAAQ3B,GAAM,GAAO,CAACP,EAAIS,GAAG,kBAAkBmB,MAAM,CAACC,MAAO7B,EAAiB,cAAE8B,SAAS,SAAUC,GAAM/B,EAAImC,cAAcJ,GAAKC,WAAW,kBAAkB,CAAChC,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIiC,cAAc,QAAQ,IAC5RG,EAAkB,G,6CCHtB,SAASC,EAASC,GAChB,IAAMC,EAAUC,IAAMC,IAAN,8CAAiDH,IACjE,OAAOC,EAGT,SAASG,EAAYC,GACnB,IAAMJ,EAAUC,IAAMI,KAAK,sCAAuCD,GAClE,OAAOJ,EAGK,OACZF,WACAK,e,YCwCF,GAEEG,KAAM,GAENC,WAAY,GAEZC,KANF,WAOI,MAAO,CACLvC,MAAO,GACPmB,UAAU,EACVM,aAAc,GACdE,eAAe,IAInBa,QAAS,CACP,eADJ,WACA,qKACA,qBADA,SAEA,EACA,YACA,kBACA,kBAEA,mBACA,kBARA,8CAWI,aAZJ,WAYA,2JAEA,yCAFA,uBAGA,6BACA,mBAJA,0CAQA,OACA,gDACA,kBACA,YAEA,0BACA,eACA,YAEA,kCACA,eACA,aAEA,iCACA,kBAGA,mBACA,kBA1BA,8CA6BId,QAzCJ,WA0CMjC,KAAKgD,QAAQC,KAAK,YAGtBC,QA5DF,WA6DIlD,KAAKmD,iBACLnD,KAAKoD,OAAOC,OAAO,qBAAsB,gBAE3CC,MAAO,CAAC,QCtH0V,I,qHCOhWC,EAAY,eACd,EACAzD,EACAqC,GACA,EACA,KACA,WACA,MAIa,aAAAoB,EAAiB,QAYhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,OAAA,KAAKC,OAAA,KAAKC,YAAA","file":"js/event.25430f07.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"black\"}},[_c('v-card',{staticStyle:{\"color\":\"white\",\"background-color\":\"#1a1a1a\"},attrs:{\"shaped\":\"\",\"dark\":\"\"}},[_c('v-img',{attrs:{\"height\":\"100%\",\"src\":(\"\" + (_vm.event.eimage)),\"aspect-ratio\":78 / 100}})],1),_c('v-card',{staticStyle:{\"color\":\"white\",\"background-color\":\"#1a1a1a\"},attrs:{\"shaped\":\"\",\"dark\":\"\"}},[_c('v-card-title',[_vm._v(_vm._s(_vm.event.ename))]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" 기간 : \"+_vm._s(new Date(_vm.event.estartdate).toLocaleDateString())+\" - \"+_vm._s(new Date(_vm.event.eenddate).toLocaleDateString())+\" \")]),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_vm._v(\" \"+_vm._s(_vm.event.edetail)+\" \")]),_c('v-col',{staticClass:\"mt-2 text-center\",attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticStyle:{\"color\":\"black\"},attrs:{\"color\":\"white\",\"width\":\"100%\"},on:{\"click\":_vm.createCoupon}},[_vm._v(\"쿠폰 발급\")])],1)],1)],1)],1),_c('v-card',{staticClass:\"pa-4\",attrs:{\"outlined\":\"\",\"dark\":\"\",\"color\":\"black\"}},[_vm._v(\" NOTICE \"),_c('v-card-text',[_vm._v(\" ✔ 쿠폰은 ID당 1회 발급되며, 유효기간이 만료되면\"),_c('br'),_vm._v(\"   재발급 되지 않습니다.\"),_c('br'),_vm._v(\" ✔ 본 이벤트는 더한섬닷컴 회원을 대상으로 진행됩니다.\"),_c('br'),_vm._v(\" ✔ 구매 취소 시 잔여 결제금액이 조건 금액 미만인 경우   혜택이 취소됩니다.\"),_c('br')])],1),_c('v-snackbar',{scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"pink\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")]),_c('v-snackbar',{scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"pink\",\"text\":\"\"},on:{\"click\":_vm.toLogin}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbarLogin),callback:function ($$v) {_vm.snackbarLogin=$$v},expression:\"snackbarLogin\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\r\n\r\nfunction getEvent(eid){\r\n  const promise = axios.get(`http://kosa1.iptime.org:50207/event/${eid}`);\r\n  return promise;\r\n}\r\n\r\nfunction updateEvent(eventFormData){\r\n  const promise = axios.post(\"http://kosa1.iptime.org:50207/event\", eventFormData);\r\n  return promise;\r\n}\r\n\r\nexport default{\r\n  getEvent,\r\n  updateEvent,\r\n}","<!-- 컴포넌트 UI 정의\r\n    주의할 점 : 루트 Element가 하나만 있어야한다. -->\r\n<template>\r\n  <div style=\"background-color: black\">\r\n    <v-card shaped style=\"color: white; background-color: #1a1a1a\" dark>\r\n      <v-img height=\"100%\" v-bind:src=\"`${event.eimage}`\" :aspect-ratio=\"78 / 100\"></v-img>\r\n    </v-card>\r\n    <v-card shaped style=\"color: white; background-color: #1a1a1a\" dark>\r\n      <v-card-title>{{ event.ename }}</v-card-title>\r\n      <v-card-text>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            기간 : {{ new Date(event.estartdate).toLocaleDateString() }} -\r\n            {{ new Date(event.eenddate).toLocaleDateString() }}\r\n          </v-col>\r\n          <v-col cols=\"12\" class=\"py-0\">\r\n            {{ event.edetail }}\r\n          </v-col>\r\n          <v-col cols=\"12\" class=\"mt-2 text-center\">\r\n            <v-btn color=\"white\" style=\"color: black\" width=\"100%\" @click=\"createCoupon\"\r\n              >쿠폰 발급</v-btn\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n    </v-card>\r\n    <v-card outlined class=\"pa-4\" dark color=\"black\">\r\n      NOTICE\r\n      <v-card-text>\r\n        ✔ 쿠폰은 ID당 1회 발급되며, 유효기간이 만료되면<br />\r\n        &ensp;&ensp;재발급 되지 않습니다.<br />\r\n        ✔ 본 이벤트는 더한섬닷컴 회원을 대상으로 진행됩니다.<br />\r\n        ✔ 구매 취소 시 잔여 결제금액이 조건 금액 미만인 경우 &ensp;&ensp;혜택이 취소됩니다.<br />\r\n      </v-card-text>\r\n    </v-card>\r\n    <v-snackbar v-model=\"snackbar\">\r\n      {{ snackbarText }}\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn color=\"pink\" text v-bind=\"attrs\" @click=\"snackbar = false\"> Close </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n\r\n    <v-snackbar v-model=\"snackbarLogin\">\r\n      {{ snackbarText }}\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn color=\"pink\" text v-bind=\"attrs\" @click=\"toLogin\"> Close </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n<script>\r\nimport apiEvent from \"@/apis/event\";\r\nimport apiMember from \"@/apis/member\";\r\n\r\nexport default {\r\n  //component의 대표 이름(devTools에 나오는 이름)\r\n  name: \"\",\r\n  //추가하고 싶은 컴포넌트를 등록\r\n  components: {},\r\n  //컴포넌트 데이터 정의\r\n  data() {\r\n    return {\r\n      event: [],\r\n      snackbar: false,\r\n      snackbarText: \"\",\r\n      snackbarLogin: false,\r\n    };\r\n  },\r\n  //컴포넌트 메서드터 정의\r\n  methods: {\r\n    async getEventDetail() {\r\n      let eid = this.$route.query.eid;\r\n      await apiEvent\r\n        .getEvent(eid)\r\n        .then((response) => {\r\n          this.event = response.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    async createCoupon() {\r\n      //로그인 되어있지 않을 경우\r\n      if (this.$store.getters[\"login/getUserId\"] === \"\") {\r\n        this.snackbarText = \"로그인이 필요합니다.\";\r\n        this.snackbarLogin = true;\r\n        return;\r\n      }\r\n\r\n      await apiMember\r\n        .createCoupon(this.event.eid, this.event.ename, \"할인 쿠폰\")\r\n        .then((response) => {\r\n          if (response.data === 1) {\r\n            //2. 쿠폰 발급 성공\r\n            this.snackbarText = \"쿠폰 발급 성공\";\r\n            this.snackbar = true;\r\n          } else if (response.data === 2) {\r\n            //2. 두번째 발급인 경우\r\n            this.snackbarText = \"이미 쿠폰을 발급받으셨습니다.\";\r\n            this.snackbar = true;\r\n          } else if (response.data === 0) {\r\n            //1. 인원 초과로 쿠폰 발급 실패\r\n            this.snackbarText = \"제한 인원을 초과하였습니다.\";\r\n            this.snackbar = true;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    toLogin() {\r\n      this.$router.push(\"/login\");\r\n    },\r\n  },\r\n  created() {\r\n    this.getEventDetail();\r\n    this.$store.commit(\"gnb/setCurrentPage\", \"eventdetail\");\r\n  },\r\n  props: [\"eno\"],\r\n};\r\n</script>\r\n<!--scoped : 지역변수, 없으면 전역 style이 된다. 붙이는게 좋다\r\n    컴포넌트 스타일-->\r\n<style scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventDetail.vue?vue&type=template&id=45a94ad0&scoped=true&\"\nimport script from \"./EventDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./EventDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45a94ad0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VImg,VRow,VSnackbar})\n"],"sourceRoot":""}